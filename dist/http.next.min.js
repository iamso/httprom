/*!
 * httpromise - version 0.1.0
 *
 * Made with ❤ by Steve Ottoz so@dev.so
 *
 * Copyright (c) 2016 Steve Ottoz
 */
'use strict';export default function http(a){function b(f){try{return JSON.parse(f)}catch(g){return f}}let c=new XMLHttpRequest,d={};return['get','post','put','patch','delete','head','options'].forEach(f=>{d[f]=(g,h)=>{return new Promise((i,j)=>{if(c.open(f.toUpperCase(),a),!(g instanceof FormData))try{g=JSON.stringify(g),c.setRequestHeader('Content-type','application/json')}catch(k){c.setRequestHeader('Content-type','text/plain')}for(let k of Object.keys(h))c.setRequestHeader(k,h[k]);c.onload=()=>{200===c.status?i(b(c.response)):j(Error(c.statusText))},c.onerror=()=>{j(Error('Network Error'))},c.send(g)})}}),d}