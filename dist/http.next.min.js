/*!
 * httprom - version 0.4.2
 *
 * Made with ❤ by Steve Ottoz so@dev.so
 *
 * Copyright (c) 2017 Steve Ottoz
 */
'use strict';function http(a){const b={},c=b.xhr=new XMLHttpRequest;return['get','post','put','patch','delete','head','options'].forEach(d=>{b[d]=(f=null,g={})=>{return new Promise((h,i)=>{if('get'===d&&(a=http.gettify(a,f)),c.open(d.toUpperCase(),a),'get'!==d&&!(f instanceof FormData))try{f=JSON.stringify(f),c.setRequestHeader('Content-type','application/json')}catch(j){c.setRequestHeader('Content-type','text/plain')}for(let j of Object.keys(g))c.setRequestHeader(j,g[j]);c.onload=()=>{200===c.status?h(http.parse(c.response)):i(Error(c.statusText))},c.onerror=()=>{i(Error('Network Error'))},c.send(f)})}}),b}http.parse=function(b){try{return JSON.parse(b)}catch(c){return b}},http.param=function a(b,c){if(!/^o/.test(typeof b))return b;let d=[];for(let f in b){let g=c?c+'['+f+']':f,h=b[f];b.hasOwnProperty(f)&&d.push('object'==typeof h?a(h,g):encodeURIComponent(g)+'='+encodeURIComponent(h))}return d.join('&')},http.gettify=function(b,c){return b+=(b.match(/\?/ig)?'&':'?')+this.param(c)};export default http;