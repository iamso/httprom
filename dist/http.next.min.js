/*!
 * httprom - version 0.3.0
 *
 * Made with ❤ by Steve Ottoz so@dev.so
 *
 * Copyright (c) 2017 Steve Ottoz
 */
'use strict';function http(a){const b=new XMLHttpRequest,c={};return['get','post','put','patch','delete','head','options'].forEach(d=>{c[d]=(f=null,g={})=>{return new Promise((h,i)=>{if('get'===d&&(a=http.gettify(a,f)),b.open(d.toUpperCase(),a),'get'===!d&&!(f instanceof FormData))try{f=JSON.stringify(f),b.setRequestHeader('Content-type','application/json')}catch(j){b.setRequestHeader('Content-type','text/plain')}for(let j of Object.keys(g))b.setRequestHeader(j,g[j]);b.onload=()=>{200===b.status?h(http.parse(b.response)):i(Error(b.statusText))},b.onerror=()=>{i(Error('Network Error'))},b.send(f)})}}),c}http.parse=function(b){try{return JSON.parse(b)}catch(c){return b}},http.param=function a(b,c){if(!/^o/.test(typeof b))return b;let d=[];for(let f in b){let g=c?c+'['+f+']':f,h=b[f];b.hasOwnProperty(f)&&d.push('object'==typeof h?a(h,g):encodeURIComponent(g)+'='+encodeURIComponent(h))}return d.join('&')},http.gettify=function(b,c){return b+=(b.match(/\?/ig)?'&':'?')+this.param(c)};export default http;