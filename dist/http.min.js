/*!
 * httprom - version 0.3.0
 *
 * Made with ❤ by Steve Ottoz so@dev.so
 *
 * Copyright (c) 2017 Steve Ottoz
 */
(function(a,b){if('function'==typeof define&&define.amd)define(['module','exports'],b);else if('undefined'!=typeof exports)b(module,exports);else{var c={exports:{}};b(c,c.exports),a.http=c.exports}})(this,function(a,b){'use strict';function c(f){var g=new XMLHttpRequest,h={};return['get','post','put','patch','delete','head','options'].forEach(function(i){h[i]=function(){var j=0>=arguments.length||void 0===arguments[0]?null:arguments[0],l=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];return new Promise(function(m,n){if('get'===i&&(f=c.gettify(f,j)),g.open(i.toUpperCase(),f),'get'===!i&&!(j instanceof FormData))try{j=JSON.stringify(j),g.setRequestHeader('Content-type','application/json')}catch(w){g.setRequestHeader('Content-type','text/plain')}var o=!0,q=!1,r=void 0;try{for(var t,s=Object.keys(l)[Symbol.iterator]();!(o=(t=s.next()).done);o=!0){var u=t.value;g.setRequestHeader(u,l[u])}}catch(w){q=!0,r=w}finally{try{!o&&s.return&&s.return()}finally{if(q)throw r}}g.onload=function(){200===g.status?m(c.parse(g.response)):n(Error(g.statusText))},g.onerror=function(){n(Error('Network Error'))},g.send(j)})}}),h}Object.defineProperty(b,'__esModule',{value:!0});var d='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&'function'==typeof Symbol&&f.constructor===Symbol?'symbol':typeof f};c.parse=function(g){try{return JSON.parse(g)}catch(h){return g}},c.param=function f(g,h){if(!/^o/.test('undefined'==typeof g?'undefined':d(g)))return g;var i=[];for(var j in g){var l=h?h+'['+j+']':j,m=g[j];g.hasOwnProperty(j)&&i.push('object'===('undefined'==typeof m?'undefined':d(m))?f(m,l):encodeURIComponent(l)+'='+encodeURIComponent(m))}return i.join('&')},c.gettify=function(g,h){return g+=(g.match(/\?/ig)?'&':'?')+this.param(h)},b.default=c,a.exports=b['default']});