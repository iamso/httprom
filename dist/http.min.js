/*!
 * httpromise - version 0.1.1
 *
 * Made with ❤ by Steve Ottoz so@dev.so
 *
 * Copyright (c) 2016 Steve Ottoz
 */
(function(a,b){if('function'==typeof define&&define.amd)define(['module','exports'],b);else if('undefined'!=typeof exports)b(module,exports);else{var c={exports:{}};b(c,c.exports),a.http=c.exports}})(this,function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(d){function f(i){try{return JSON.parse(i)}catch(j){return i}}var g=new XMLHttpRequest,h={};return['get','post','put','patch','delete','head','options'].forEach(function(i){h[i]=function(){var j=0>=arguments.length||void 0===arguments[0]?null:arguments[0],k=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];return new Promise(function(l,m){if(g.open(i.toUpperCase(),d),!(j instanceof FormData))try{j=JSON.stringify(j),g.setRequestHeader('Content-type','application/json')}catch(t){g.setRequestHeader('Content-type','text/plain')}var n=!0,o=!1,p=void 0;try{for(var r,q=Object.keys(k)[Symbol.iterator]();!(n=(r=q.next()).done);n=!0){var s=r.value;g.setRequestHeader(s,k[s])}}catch(t){o=!0,p=t}finally{try{!n&&q.return&&q.return()}finally{if(o)throw p}}g.onload=function(){200===g.status?l(f(g.response)):m(Error(g.statusText))},g.onerror=function(){m(Error('Network Error'))},g.send(j)})}}),h},a.exports=b['default']});